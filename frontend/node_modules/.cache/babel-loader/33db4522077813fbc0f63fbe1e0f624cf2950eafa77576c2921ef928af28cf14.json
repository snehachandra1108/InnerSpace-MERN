{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{getJournals,deleteJournal,createJournal}from\"../services/journalService\";import AddJournalForm from\"./AddJournalForm\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const JournalList=()=>{const[journals,setJournals]=useState([]);const[editingId,setEditingId]=useState(null);const[editMood,setEditMood]=useState(\"\");const[editStress,setEditStress]=useState(\"\");const[editNote,setEditNote]=useState(\"\");const fetchJournals=async()=>{const res=await getJournals();setJournals(res.data);};useEffect(()=>{fetchJournals();},[]);const handleDelete=async id=>{await deleteJournal(id);fetchJournals();};const handleEdit=journal=>{setEditingId(journal._id);setEditMood(journal.mood);setEditStress(journal.stressLevel);setEditNote(journal.note);};const handleUpdate=async id=>{await createJournal({mood:editMood,stressLevel:Number(editStress),note:editNote});setEditingId(null);fetchJournals();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AddJournalForm,{onJournalAdded:fetchJournals}),journals.map(j=>/*#__PURE__*/_jsx(\"div\",{style:{border:\"1px solid #ccc\",margin:\"10px\",padding:\"10px\",borderRadius:\"5px\"},children:editingId===j._id?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{value:editMood,onChange:e=>setEditMood(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editStress,onChange:e=>setEditStress(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{value:editNote,onChange:e=>setEditNote(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUpdate(j._id),children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingId(null),children:\"Cancel\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Mood:\"}),\" \",j.mood]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Stress Level:\"}),\" \",j.stressLevel]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Note:\"}),\" \",j.note]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(j),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(j._id),children:\"Delete\"})]})},j._id))]});};export default JournalList;","map":{"version":3,"names":["React","useEffect","useState","getJournals","deleteJournal","createJournal","AddJournalForm","jsx","_jsx","jsxs","_jsxs","JournalList","journals","setJournals","editingId","setEditingId","editMood","setEditMood","editStress","setEditStress","editNote","setEditNote","fetchJournals","res","data","handleDelete","id","handleEdit","journal","_id","mood","stressLevel","note","handleUpdate","Number","children","onJournalAdded","map","j","style","border","margin","padding","borderRadius","value","onChange","e","target","type","onClick"],"sources":["D:/CN/MERN Project/InnerSpace/frontend/src/components/JournalList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { getJournals, deleteJournal, createJournal } from \"../services/journalService\";\r\nimport AddJournalForm from \"./AddJournalForm\";\r\n\r\nconst JournalList = () => {\r\n  const [journals, setJournals] = useState([]);\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [editMood, setEditMood] = useState(\"\");\r\n  const [editStress, setEditStress] = useState(\"\");\r\n  const [editNote, setEditNote] = useState(\"\");\r\n\r\n  const fetchJournals = async () => {\r\n    const res = await getJournals();\r\n    setJournals(res.data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchJournals();\r\n  }, []);\r\n\r\n  const handleDelete = async (id) => {\r\n    await deleteJournal(id);\r\n    fetchJournals();\r\n  };\r\n\r\n  const handleEdit = (journal) => {\r\n    setEditingId(journal._id);\r\n    setEditMood(journal.mood);\r\n    setEditStress(journal.stressLevel);\r\n    setEditNote(journal.note);\r\n  };\r\n\r\n  const handleUpdate = async (id) => {\r\n    await createJournal({\r\n      mood: editMood,\r\n      stressLevel: Number(editStress),\r\n      note: editNote,\r\n    });\r\n    setEditingId(null);\r\n    fetchJournals();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <AddJournalForm onJournalAdded={fetchJournals} />\r\n\r\n      {journals.map((j) => (\r\n        <div\r\n          key={j._id}\r\n          style={{\r\n            border: \"1px solid #ccc\",\r\n            margin: \"10px\",\r\n            padding: \"10px\",\r\n            borderRadius: \"5px\",\r\n          }}\r\n        >\r\n          {editingId === j._id ? (\r\n            <div>\r\n              <input\r\n                value={editMood}\r\n                onChange={(e) => setEditMood(e.target.value)}\r\n              />\r\n              <input\r\n                type=\"number\"\r\n                value={editStress}\r\n                onChange={(e) => setEditStress(e.target.value)}\r\n              />\r\n              <input\r\n                value={editNote}\r\n                onChange={(e) => setEditNote(e.target.value)}\r\n              />\r\n              <button onClick={() => handleUpdate(j._id)}>Save</button>\r\n              <button onClick={() => setEditingId(null)}>Cancel</button>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <p><b>Mood:</b> {j.mood}</p>\r\n              <p><b>Stress Level:</b> {j.stressLevel}</p>\r\n              <p><b>Note:</b> {j.note}</p>\r\n              <button onClick={() => handleEdit(j)}>Edit</button>\r\n              <button onClick={() => handleDelete(j._id)}>Delete</button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JournalList;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}